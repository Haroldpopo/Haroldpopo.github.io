{
    "version": "https://jsonfeed.org/version/1",
    "title": "Harold • All posts by \"ensp\" tag",
    "description": "我踏清风寻杨柳，谁有龙虾谁有酒。清风深知杨柳意，啤酒龙虾又相聚。",
    "home_page_url": "https://haroldpopo.github.io",
    "items": [
        {
            "id": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/07-Access-Control-Lists/",
            "url": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/07-Access-Control-Lists/",
            "title": "ACL访问控制列表",
            "date_published": "2022-10-23T14:38:00.000Z",
            "content_html": "<h1 id=\"acl访问控制列表\"><a class=\"anchor\" href=\"#acl访问控制列表\">#</a> ACL 访问控制列表</h1>\n<p>访问控制列表（Access Control Lists，ACL）是应用在路由器接口的指令列表。这些指令列表用来告诉路由器哪些数据包可以收、哪些数据包需要拒绝。至于数据包是被接收还是拒绝，可以由类似于源地址、目的地址、端口号等的特定指示条件来决定。</p>\n<p>访问控制列表具有许多作用，如限制网络流量、提高网络性能；通信流量的控制，例如 ACL 可以限定或简化路由更新信息的长度，从而限制通过路由器某一网段的通信流量；提供网络安全访问的基本手段；在路由器端口处决定哪种类型的通信流量被转发或被阻塞，例如，用户可以允许 E-mail 通信流量被路由，拒绝所有的 Telnet 通信流量等。</p>\n<p><img data-src=\"https://i.vgy.me/GeXrW5.png\" alt=\"ACL\" /></p>\n<h2 id=\"关键命令\"><a class=\"anchor\" href=\"#关键命令\">#</a> 关键命令</h2>\n<h2 id=\"lsw-b配置\"><a class=\"anchor\" href=\"#lsw-b配置\">#</a>  <code>LSW-B</code>  配置</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW-B]\"></td><td><pre>vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW-B-vlan10]\"></td><td><pre>vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW-B-vlan20]\"></td><td><pre>vlan <span class=\"token number\">30</span></pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW-B-vlan30]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW-B]\"></td><td><pre>int e0/0/2</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW-B-Ethernet0/0/2]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[LSW-B-Ethernet0/0/2]\"></td><td><pre>port default vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[LSW-B-Ethernet0/0/2]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"[LSW-B]\"></td><td><pre>int e0/0/3</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[LSW-B-Ethernet0/0/3]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"[LSW-B-Ethernet0/0/3]\"></td><td><pre>port default vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"[LSW-B-Ethernet0/0/3]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"[LSW-B]\"></td><td><pre>int e0/0/4</pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"[LSW-B-Ethernet0/0/4]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"[LSW-B-Ethernet0/0/4]\"></td><td><pre>port default vlan <span class=\"token number\">30</span></pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"[LSW-B-Ethernet0/0/4]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"[LSW-B]\"></td><td><pre>int e0/0/1</pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"[LSW-B-Ethernet0/0/1]\"></td><td><pre>port link-type trunk</pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"[LSW-B-Ethernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan all</pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"[LSW-B-Ethernet0/0/1]\"></td><td><pre>quit</pre></td></tr></table></figure><h2 id=\"lsw-a配置\"><a class=\"anchor\" href=\"#lsw-a配置\">#</a>  <code>LSW-A</code>  配置</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-AR</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW-A]\"></td><td><pre>vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW-A-vlan10]\"></td><td><pre>vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW-A-vlan20]\"></td><td><pre>vlan <span class=\"token number\">30</span></pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW-A-vlan30]\"></td><td><pre>int vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW-A-Vlanif10]\"></td><td><pre><span class=\"token function\">ip</span> <span class=\"token function\">add</span> <span class=\"token number\">192.168</span>.10.254 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW-A-Vlanif10]\"></td><td><pre>int vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[LSW-A-Vlanif20]\"></td><td><pre><span class=\"token function\">ip</span> <span class=\"token function\">add</span> <span class=\"token number\">192.168</span>.20.254 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[LSW-A-Vlanif20]\"></td><td><pre>int vlan <span class=\"token number\">30</span></pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"[LSW-A-Vlanif30]\"></td><td><pre><span class=\"token function\">ip</span> <span class=\"token function\">add</span> <span class=\"token number\">192.168</span>.30.254 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[LSW-A-Vlanif30]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"[LSW-A]\"></td><td><pre>int g0/0/1</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"[LSW-A-GigabitEthernet0/0/1]\"></td><td><pre>port link-type trunk</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"[LSW-A-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan all</pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"[LSW-A-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr></table></figure><p>至此，所有 VLAN 之间可以互相通信</p>\n",
            "tags": [
                "eNSP"
            ]
        },
        {
            "id": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/06-Router-On-A-Stick/",
            "url": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/06-Router-On-A-Stick/",
            "title": "单臂路由",
            "date_published": "2022-10-23T12:59:00.000Z",
            "content_html": "<h1 id=\"单臂路由\"><a class=\"anchor\" href=\"#单臂路由\">#</a> 单臂路由</h1>\n<p>单臂路由（router-on-a-stick）是指在路由器的一个接口上通过配置子接口（或 “逻辑接口”，并不存在真正物理接口）的方式，实现原来相互隔离的不同 VLAN（虚拟局域网）之间的互联互通。</p>\n<p><img data-src=\"https://i.vgy.me/D1AuBw.png\" alt=\"router-on-a-stick\" /></p>\n<h2 id=\"关键命令\"><a class=\"anchor\" href=\"#关键命令\">#</a> 关键命令</h2>\n<ul>\n<li>封装 dot1q 协议，该子接口对应 VLAN ID： <code>dot1q termination vid 对应的VLAN</code></li>\n<li>开启 ARP 广播： <code>arp broadcast enable</code></li>\n</ul>\n<h2 id=\"交换机配置\"><a class=\"anchor\" href=\"#交换机配置\">#</a> 交换机配置</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW]\"></td><td><pre>vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW-vlan10]\"></td><td><pre>vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW-vlan20]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW]\"></td><td><pre>int g0/0/2</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW-GigabitEthernet0/0/2]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW-GigabitEthernet0/0/2]\"></td><td><pre>port default vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[LSW-GigabitEthernet0/0/2]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[LSW]\"></td><td><pre>int g0/0/3</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"[LSW-GigabitEthernet0/0/3]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[LSW-GigabitEthernet0/0/3]\"></td><td><pre>port default vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"[LSW-GigabitEthernet0/0/3]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"[LSW]\"></td><td><pre>int g0/0/1</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"[LSW-GigabitEthernet0/0/1]\"></td><td><pre>port link-type trunk</pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"[LSW-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"[LSW-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"[LSW-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"[LSW]\"></td><td><pre>dis vlan</pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"27\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"28\"></td><td data-command=\"\"></td><td><pre>                GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"29\"></td><td data-command=\"\"></td><td><pre>                GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"30\"></td><td data-command=\"\"></td><td><pre>                GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"31\"></td><td data-command=\"\"></td><td><pre>                GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"32\"></td><td data-command=\"\"></td><td><pre>                GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>                                     </pre></td></tr><tr><td data-num=\"33\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   common  UT:GE0/0/2<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"35\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"36\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   common  UT:GE0/0/3<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"37\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"38\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"39\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"41\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"42\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001                         </pre></td></tr><tr><td data-num=\"44\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0010                         </pre></td></tr><tr><td data-num=\"45\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0020</pre></td></tr></table></figure><h2 id=\"路由器配置\"><a class=\"anchor\" href=\"#路由器配置\">#</a> 路由器配置</h2>\n<p>配置子接口 VLAN10 与 VLAN20，子接口与 VLAN 相对应</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-AR</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[AR]\"></td><td><pre>int g0/0/0.10</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.10]\"></td><td><pre>dot1q termination vid <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.10]\"></td><td><pre>arp broadcast <span class=\"token builtin class-name\">enable</span></pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.10]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.10.254 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.10]\"></td><td><pre>display this</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"\"></td><td><pre><span class=\"token punctuation\">[</span>V200R003C00<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre>interface GigabitEthernet0/0/0.10</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre> dot1q termination vid <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre> <span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.10.254 <span class=\"token number\">255.255</span>.255.0 </pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre> arp broadcast <span class=\"token builtin class-name\">enable</span></pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre><span class=\"token builtin class-name\">return</span></pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.10]\"></td><td><pre>int g0/0/0.20</pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.20]\"></td><td><pre>dot1q termination vid <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.20]\"></td><td><pre>arp broadcast <span class=\"token builtin class-name\">enable</span></pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.20]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.20.254 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"[AR-GigabitEthernet0/0/0.20]\"></td><td><pre>display this</pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre><span class=\"token punctuation\">[</span>V200R003C00<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre>interface GigabitEthernet0/0/0.20</pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre> dot1q termination vid <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre> <span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.20.254 <span class=\"token number\">255.255</span>.255.0 </pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"\"></td><td><pre> arp broadcast <span class=\"token builtin class-name\">enable</span></pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"\"></td><td><pre><span class=\"token builtin class-name\">return</span></pre></td></tr></table></figure>",
            "tags": [
                "eNSP"
            ]
        },
        {
            "id": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/05-Three-layer-Switching-Technology/",
            "url": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/05-Three-layer-Switching-Technology/",
            "title": "三层交换技术",
            "date_published": "2022-10-23T05:50:00.000Z",
            "content_html": "<h1 id=\"三层交换技术\"><a class=\"anchor\" href=\"#三层交换技术\">#</a> 三层交换技术</h1>\n<p>三层交换（也称多层交换技术，或 IP 交换技术）是相对于传统交换概念而提出的。</p>\n<p>众所周知，传统的交换技术是在 OSI<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTclQkQlOTElRTclQkIlOUMlRTYlQTAlODclRTUlODclODY/ZnJvbU1vZHVsZT1sZW1tYV9pbmxpbms=\"> 网络标准</span>模型中的第二层 ——<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTYlOTUlQjAlRTYlOEQlQUUlRTklOTMlQkUlRTglQjclQUYlRTUlQjElODI/ZnJvbU1vZHVsZT1sZW1tYV9pbmxpbms=\"> 数据链路层</span>进行操作的，而三层交换技术是在<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTclQkQlOTElRTclQkIlOUMlRTYlQTglQTElRTUlOUUlOEI/ZnJvbU1vZHVsZT1sZW1tYV9pbmxpbms=\">网络模型</span>中的第三层实现了<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTYlOTUlQjAlRTYlOEQlQUUlRTUlOEMlODU/ZnJvbU1vZHVsZT1sZW1tYV9pbmxpbms=\">数据包</span>的高速转发。</p>\n<p>简单地说，三层交换技术就是：二层交换技术 + 三层转发技术。</p>\n<p>VLAN 隔离技术：是先用 VLAN 将用户隔离，再用<strong>某种技术</strong>，把隔离开的用户连起来</p>\n<p>三层交换：在隔离故障的前提下，又将用户连通</p>\n<p><img data-src=\"https://i.vgy.me/jz36KQ.png\" alt=\"三层交换技术\" /></p>\n<h2 id=\"vlan配置\"><a class=\"anchor\" href=\"#vlan配置\">#</a> VLAN 配置</h2>\n<p>二层与三层交换机都需创建相同的 VLAN，在三层交换机上进入到虚拟接口 VLAN 上，配置 IP 地址作为 VLAN 下终端的网关。</p>\n<p>数据包走向：<strong>终端 PC1 --&gt; 二层交换机 LSW2 --&gt; 三层交换机 LSW3，再由虚拟接口 VLAN10 的网关 IP 转发到 VLAN20 的网关 IP，然后发送回 LSW2，最后数据包发送至 PC2。</strong></p>\n<h2 id=\"二层交换机的配置\"><a class=\"anchor\" href=\"#二层交换机的配置\">#</a> 二层交换机的配置</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW2</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW2]\"></td><td><pre>vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW2-vlan10]\"></td><td><pre>vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW2-vlan20]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW2]\"></td><td><pre>int g0/0/2</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/2]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/2]\"></td><td><pre>port default vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/2]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[LSW2]\"></td><td><pre>int g0/0/3</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/3]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/3]\"></td><td><pre>port default vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/3]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"[LSW2]\"></td><td><pre>int g0/0/1</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/1]\"></td><td><pre>port link-type trunk</pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"[LSW2]\"></td><td><pre>display vlan</pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"27\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"28\"></td><td data-command=\"\"></td><td><pre>                GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"29\"></td><td data-command=\"\"></td><td><pre>                GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"30\"></td><td data-command=\"\"></td><td><pre>                GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"31\"></td><td data-command=\"\"></td><td><pre>                GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"32\"></td><td data-command=\"\"></td><td><pre>                GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>                                     </pre></td></tr><tr><td data-num=\"33\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   common  UT:GE0/0/2<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"35\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"36\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   common  UT:GE0/0/3<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"38\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"39\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"42\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"43\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001                         </pre></td></tr><tr><td data-num=\"45\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0010                         </pre></td></tr><tr><td data-num=\"46\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0020</pre></td></tr></table></figure><h2 id=\"三层交换机的配置\"><a class=\"anchor\" href=\"#三层交换机的配置\">#</a> 三层交换机的配置</h2>\n<p>配置 VLAN10 与 VLAN20 的转发</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW3</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW3]\"></td><td><pre>vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW3-vlan10]\"></td><td><pre>vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW3-vlan20]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW3]\"></td><td><pre>int vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW3-Vlanif10]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.10.254 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW3-Vlanif10]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[LSW3]\"></td><td><pre>int vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[LSW3-Vlanif20]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.20.254 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"[LSW3-Vlanif20]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[LSW3]\"></td><td><pre>display <span class=\"token function\">ip</span> routing-table </pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre>Route Flags: R - relay, D - download to fib</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre>------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre>Routing Tables: Public</pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>         Destinations <span class=\"token builtin class-name\">:</span> <span class=\"token number\">6</span>        Routes <span class=\"token builtin class-name\">:</span> <span class=\"token number\">6</span>        </pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"\"></td><td><pre>Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface</pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre>      <span class=\"token number\">127.0</span>.0.0/8   Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">127.0</span>.0.1       InLoopBack0</pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre>      <span class=\"token number\">127.0</span>.0.1/32  Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">127.0</span>.0.1       InLoopBack0</pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>   <span class=\"token number\">192.168</span>.10.0/24  Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">192.168</span>.10.254  Vlanif10</pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre> <span class=\"token number\">192.168</span>.10.254/32  Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">127.0</span>.0.1       Vlanif10</pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre>   <span class=\"token number\">192.168</span>.20.0/24  Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">192.168</span>.20.254  Vlanif20</pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre> <span class=\"token number\">192.168</span>.20.254/32  Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">127.0</span>.0.1       Vlanif20</pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"[LSW3]\"></td><td><pre>int g0/0/1</pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"[LSW3-GigabitEthernet0/0/1]\"></td><td><pre>port link-type trunk</pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"[LSW3-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"27\"></td><td data-command=\"[LSW3-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"28\"></td><td data-command=\"[LSW3-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"29\"></td><td data-command=\"[LSW3]\"></td><td><pre>display vlan</pre></td></tr><tr><td data-num=\"30\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"31\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"32\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"35\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"36\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"37\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"38\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"39\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/2<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/3<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"40\"></td><td data-command=\"\"></td><td><pre>                GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"41\"></td><td data-command=\"\"></td><td><pre>                GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"42\"></td><td data-command=\"\"></td><td><pre>                GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"43\"></td><td data-command=\"\"></td><td><pre>                GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"44\"></td><td data-command=\"\"></td><td><pre>                GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"45\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   common  TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"47\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"48\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   common  TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"49\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"52\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"53\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"54\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001                         </pre></td></tr><tr><td data-num=\"55\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0010                         </pre></td></tr><tr><td data-num=\"56\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0020</pre></td></tr></table></figure>",
            "tags": [
                "eNSP"
            ]
        },
        {
            "id": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/04-Vlan-Trunk/",
            "url": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/04-Vlan-Trunk/",
            "title": "VLAN虚拟局域网",
            "date_published": "2022-10-22T13:50:00.000Z",
            "content_html": "<h1 id=\"vlan虚拟局域网\"><a class=\"anchor\" href=\"#vlan虚拟局域网\">#</a> VLAN 虚拟局域网</h1>\n<p>VLAN（Virtual Local Area Network）即虚拟局域网，是将一个物理的 LAN 在逻辑上划分成多个广播域的通信技术。<br />\n每个 VLAN 是一个广播域，VLAN 内的主机间可以直接通信，而 VLAN 间则不能直接互通。这样，广播报文就被限制在一个 VLAN 内。</p>\n<p>VLAN 虚拟局域网使用在交换机上，把一个真实的局域网，划分成多个虚拟的局域网，可以实现不同虚拟局域网之间的隔离。</p>\n<h2 id=\"vlan配置\"><a class=\"anchor\" href=\"#vlan配置\">#</a> VLAN 配置</h2>\n<h3 id=\"创建vlan\"><a class=\"anchor\" href=\"#创建vlan\">#</a> 创建 VLAN</h3>\n<p>命令： <code>vlan ID</code></p>\n<p>ID：数字，VLAN 以数字进行命名</p>\n<h3 id=\"交换机的接口模式\"><a class=\"anchor\" href=\"#交换机的接口模式\">#</a> 交换机的接口模式</h3>\n<p>在接口下进行配置接口模式： <code>port link-type 模式</code></p>\n<ol>\n<li>Access：用来连接终端（电脑、打印机等）\n<ul>\n<li>划分终端使用的 VLAN： <code>port default vlan ID</code></li>\n</ul>\n</li>\n<li>Trunk：用来连接其它交换机\n<ul>\n<li>交换机之间开放的 VLAN： <code>port trunk allow-pass vlan ID</code></li>\n<li>开放所有 VLAN（视情况使用）： <code>port trunk allow-pass vlan all</code></li>\n</ul>\n</li>\n</ol>\n<p><img data-src=\"https://i.vgy.me/LXYvmh.png\" alt=\"VLAN\" /></p>\n<h2 id=\"终端vlan隔离\"><a class=\"anchor\" href=\"#终端vlan隔离\">#</a> 终端 VLAN 隔离</h2>\n<p>交换机下 VLAN10 的终端与 VLAN20 的终端不可通信</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW1</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW1]\"></td><td><pre>vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW1-vlan10]\"></td><td><pre>vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW1-vlan20]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW1]\"></td><td><pre>int g0/0/2</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/2]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/2]\"></td><td><pre>port default vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/2]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[LSW1]\"></td><td><pre>int g0/0/3</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/3]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/3]\"></td><td><pre>port default vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/3]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"[LSW1]\"></td><td><pre>display vlan</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre>                GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"\"></td><td><pre>                GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"\"></td><td><pre>                GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"\"></td><td><pre>                GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"27\"></td><td data-command=\"\"></td><td><pre>                GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>                                     </pre></td></tr><tr><td data-num=\"28\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   common  UT:GE0/0/2<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"30\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   common  UT:GE0/0/3<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"31\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"34\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"35\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001                         </pre></td></tr><tr><td data-num=\"36\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0010                         </pre></td></tr><tr><td data-num=\"37\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0020</pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW2</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW2]\"></td><td><pre>vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW2-vlan10]\"></td><td><pre>vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW2-vlan20]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW2]\"></td><td><pre>int g0/0/2</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/2]\"></td><td><pre>port link-type access </pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/2]\"></td><td><pre>port default vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/2]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[LSW2]\"></td><td><pre>int g0/0/3</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/3]\"></td><td><pre>port link-type access</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/3]\"></td><td><pre>port default vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/3]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"[LSW2]\"></td><td><pre>display vlan</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre>                GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"\"></td><td><pre>                GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"\"></td><td><pre>                GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"\"></td><td><pre>                GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"27\"></td><td data-command=\"\"></td><td><pre>                GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>                                     </pre></td></tr><tr><td data-num=\"28\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   common  UT:GE0/0/2<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"30\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   common  UT:GE0/0/3<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"31\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"34\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"35\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001                         </pre></td></tr><tr><td data-num=\"36\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0010                         </pre></td></tr><tr><td data-num=\"37\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0020</pre></td></tr></table></figure><h2 id=\"交换机之间vlan通信\"><a class=\"anchor\" href=\"#交换机之间vlan通信\">#</a> 交换机之间 VLAN 通信</h2>\n<p>VLAN10 只能与 VLAN10 通信，不可与 VLAN20 通信</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW1</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW1]\"></td><td><pre>int g0/0/1</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/1]\"></td><td><pre>port link-type trunk</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">10</span></pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan <span class=\"token number\">20</span></pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW1-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[LSW1]\"></td><td><pre>display vlan</pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"\"></td><td><pre>                GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre>                GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre>                GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>                GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre>                GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>                                     </pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   common  UT:GE0/0/2<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   common  UT:GE0/0/3<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"27\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"30\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"31\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001                         </pre></td></tr><tr><td data-num=\"32\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0010                         </pre></td></tr><tr><td data-num=\"33\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0020</pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>eNSP-LSW2</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[LSW2]\"></td><td><pre>int g0/0/1</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/1]\"></td><td><pre>port link-type trunk</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/1]\"></td><td><pre>port trunk allow-pass vlan all</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[LSW2-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[LSW2]\"></td><td><pre>display vlan</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">3</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"\"></td><td><pre>                GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"\"></td><td><pre>                GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre>                GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre>                GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>                GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>                                     </pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   common  UT:GE0/0/2<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"23\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"25\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   common  UT:GE0/0/3<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"27\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td data-command=\"\"></td><td><pre>             TG:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>                                                      </pre></td></tr><tr><td data-num=\"29\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"30\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"32\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"33\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"34\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001                         </pre></td></tr><tr><td data-num=\"35\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">10</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0010                         </pre></td></tr><tr><td data-num=\"36\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">20</span>   <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0020</pre></td></tr></table></figure>",
            "tags": [
                "eNSP"
            ]
        },
        {
            "id": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/03-Static-Routing/",
            "url": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/03-Static-Routing/",
            "title": "静态路由",
            "date_published": "2022-10-19T15:00:00.000Z",
            "content_html": "<h1 id=\"静态路由\"><a class=\"anchor\" href=\"#静态路由\">#</a> 静态路由</h1>\n<p><img data-src=\"https://i.vgy.me/2Lvn8J.png\" alt=\"Case Routing Static\" /></p>\n<h2 id=\"静态路由关键命令\"><a class=\"anchor\" href=\"#静态路由关键命令\">#</a> 静态路由关键命令</h2>\n<p>路由器根据路由表转发数据</p>\n<p><code>ip route-static 目标网段 目标网段子网掩码 下一跳地址</code></p>\n<h2 id=\"路由ar1配置\"><a class=\"anchor\" href=\"#路由ar1配置\">#</a> 路由 <code>AR1</code>  配置</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP-AR1</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[AR1]\"></td><td><pre>interface g0/0/0</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[AR1-GigabitEthernet0/0/0]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.1.10 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[AR1-GigabitEthernet0/0/0]\"></td><td><pre>interface g0/0/1</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[AR1-GigabitEthernet0/0/1]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.2.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[AR1-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[AR1]\"></td><td><pre><span class=\"token function\">ip</span> route-static <span class=\"token number\">192.168</span>.3.0 <span class=\"token number\">255.255</span>.255.0 <span class=\"token number\">192.168</span>.2.10</pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[AR1]\"></td><td><pre>display <span class=\"token function\">ip</span> routing-table <span class=\"token number\">192.168</span>.3.10</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre>Route Flags: R - relay, D - download to fib</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre>Routing Table <span class=\"token builtin class-name\">:</span> Public</pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre>Summary Count <span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre>Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>    <span class=\"token number\">192.168</span>.3.0/24  Static  <span class=\"token number\">60</span>   <span class=\"token number\">0</span>          RD   <span class=\"token number\">192.168</span>.2.10    GigabitEthernet0/0/1</pre></td></tr></table></figure><h2 id=\"路由ar2配置\"><a class=\"anchor\" href=\"#路由ar2配置\">#</a> 路由 <code>AR2</code>  配置</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP-AR2</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[AR2]\"></td><td><pre>interface g0/0/0</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[AR2-GigabitEthernet0/0/0]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.2.10 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[AR2-GigabitEthernet0/0/0]\"></td><td><pre>interface g0/0/1</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[AR2-GigabitEthernet0/0/1]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.3.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[AR2-GigabitEthernet0/0/1]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"[AR2]\"></td><td><pre><span class=\"token function\">ip</span> route-static <span class=\"token number\">192.168</span>.1.0 <span class=\"token number\">255.255</span>.255.0 <span class=\"token number\">192.168</span>.2.1</pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[AR2]\"></td><td><pre>display <span class=\"token function\">ip</span> routing-table <span class=\"token number\">192.168</span>.1.1</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre>Route Flags: R - relay, D - download to fib</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre>Routing Table <span class=\"token builtin class-name\">:</span> Public</pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre>Summary Count <span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre>Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface</pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>    <span class=\"token number\">192.168</span>.1.0/24  Static  <span class=\"token number\">60</span>   <span class=\"token number\">0</span>          RD   <span class=\"token number\">192.168</span>.2.1     GigabitEthernet0/0/0</pre></td></tr></table></figure><h2 id=\"tcpudp协议\"><a class=\"anchor\" href=\"#tcpudp协议\">#</a> TCP/UDP 协议</h2>\n<p>TCP：可靠性高，适合对文件传输的完整性高，对延迟不敏感。</p>\n<p>UDP：速度快 ，缺点容易丢包。</p>\n<p>CDN：不同的访问，网站返回不同的 IP。</p>\n",
            "tags": [
                "eNSP"
            ]
        },
        {
            "id": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/02-DHCP-DNS/",
            "url": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/02-DHCP-DNS/",
            "title": "DHCP和DNS的配置",
            "date_published": "2022-10-17T02:00:00.000Z",
            "content_html": "<h1 id=\"dhcp和dns的配置\"><a class=\"anchor\" href=\"#dhcp和dns的配置\">#</a> DHCP 和 DNS 的配置</h1>\n<h2 id=\"基本步骤\"><a class=\"anchor\" href=\"#基本步骤\">#</a> 基本步骤</h2>\n<ol>\n<li>\n<p>启动 DHCP 服务，退出接口再进行操作</p>\n<p><code>dhcp enable</code></p>\n</li>\n<li>\n<p>进入接口，指定哪些接口要实现 DHCP 功能</p>\n<p><code>dhcp select interface</code></p>\n</li>\n<li>\n<p>添加 DNS 域名解析服务的 IP 地址</p>\n<p><code>dhcp server dns-list DNS服务的IP</code></p>\n</li>\n</ol>\n<h2 id=\"配置dhcp\"><a class=\"anchor\" href=\"#配置dhcp\">#</a> 配置 DHCP</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"<Huawei>\"></td><td><pre>system-view </pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"\"></td><td><pre>Enter system view, <span class=\"token builtin class-name\">return</span> user view with Ctrl+Z.</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[Huawei]\"></td><td><pre>sysname Router</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[Router]\"></td><td><pre>interface GigabitEthernet <span class=\"token number\">0</span>/0/0</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"[Router-GigabitEthernet0/0/0]\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.1.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"\"></td><td><pre>Oct <span class=\"token number\">18</span> <span class=\"token number\">2022</span> <span class=\"token number\">23</span>:29:30-08:00 Router %%01IFNET/4/LINK_STATE<span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>:The line protocol IP on the interface GigabitEthernet0/0/0 has entered the UP state. </pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"[Router-GigabitEthernet0/0/0]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"[Router]\"></td><td><pre>dhcp <span class=\"token builtin class-name\">enable</span></pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>Info: The operation may take a few seconds. Please <span class=\"token function\">wait</span> <span class=\"token keyword\">for</span> a moment.done.</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"[Router]\"></td><td><pre>interface g0/0/0</pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"[Router-GigabitEthernet0/0/0]\"></td><td><pre>dhcp <span class=\"token keyword\">select</span> interface</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"[Router-GigabitEthernet0/0/0]\"></td><td><pre>quit</pre></td></tr></table></figure><h2 id=\"配置dns\"><a class=\"anchor\" href=\"#配置dns\">#</a> 配置 DNS</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[Router]\"></td><td><pre>interface g0/0/0</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"[Router-GigabitEthernet0/0/0]\"></td><td><pre>dhcp server dns-list <span class=\"token number\">192.168</span>.1.100</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[Router-GigabitEthernet0/0/0]\"></td><td><pre>quit</pre></td></tr></table></figure><h2 id=\"网关\"><a class=\"anchor\" href=\"#网关\">#</a> 网关</h2>\n<p>不同网段之间的数据转发</p>\n",
            "tags": [
                "eNSP"
            ]
        },
        {
            "id": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/01-Basic-Use-Of-eNSP/",
            "url": "https://haroldpopo.github.io/%E5%8D%8E%E4%B8%BA%E8%AE%A4%E8%AF%81-eNSP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/01-Basic-Use-Of-eNSP/",
            "title": "eNSP基本命令",
            "date_published": "2022-10-16T01:00:00.000Z",
            "content_html": "<h1 id=\"ensp基本命令\"><a class=\"anchor\" href=\"#ensp基本命令\">#</a> eNSP 基本命令</h1>\n<h2 id=\"进入系统视图修改设备名称\"><a class=\"anchor\" href=\"#进入系统视图修改设备名称\">#</a> 进入系统视图修改设备名称</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"<Huawei>\"></td><td><pre>system-view</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"\"></td><td><pre>Enter system view, <span class=\"token builtin class-name\">return</span> user view with Ctrl+Z.</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[Huawei]\"></td><td><pre>sysname SW</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"[SW]\"></td><td><pre>quit</pre></td></tr></table></figure><h2 id=\"进入接口配置ip地址\"><a class=\"anchor\" href=\"#进入接口配置ip地址\">#</a> 进入接口配置 IP 地址</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[SW]\"></td><td><pre>interface g0/0/0</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"\"></td><td><pre><span class=\"token function\">ip</span> address <span class=\"token number\">192.168</span>.1.1 <span class=\"token number\">255.255</span>.255.0</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"[SW-GigabitEthernet0/0/0]\"></td><td><pre>quit</pre></td></tr></table></figure><h2 id=\"查看ip路由表\"><a class=\"anchor\" href=\"#查看ip路由表\">#</a> 查看 IP 路由表</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[SW]\"></td><td><pre>display <span class=\"token function\">ip</span> routing-table</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"\"></td><td><pre>Route Flags: R - relay, D - download to fib</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"\"></td><td><pre>------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"\"></td><td><pre>Routing Tables: Public</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"\"></td><td><pre>         Destinations <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>        Routes <span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>        </pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"\"></td><td><pre>Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>      <span class=\"token number\">127.0</span>.0.0/8   Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">127.0</span>.0.1       InLoopBack0</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre>      <span class=\"token number\">127.0</span>.0.1/32  Direct  <span class=\"token number\">0</span>    <span class=\"token number\">0</span>           D   <span class=\"token number\">127.0</span>.0.1       InLoopBack0</pre></td></tr></table></figure><h2 id=\"查看vlan表\"><a class=\"anchor\" href=\"#查看vlan表\">#</a> 查看 vlan 表</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[SW]\"></td><td><pre>display vlan</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"\"></td><td><pre>The total number of vlans is <span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"\"></td><td><pre>U: Up<span class=\"token punctuation\">;</span>         D: Down<span class=\"token punctuation\">;</span>         TG: Tagged<span class=\"token punctuation\">;</span>         UT: Untagged<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"\"></td><td><pre>MP: Vlan-mapping<span class=\"token punctuation\">;</span>               ST: Vlan-stacking<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\">#: ProtocolTransparent-vlan;    *: Management-vlan;</span></pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>VID  Type    Ports                                                          </pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    common  UT:GE0/0/1<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/2<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/3<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      GE0/0/4<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre>                GE0/0/5<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/6<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/7<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/8<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      </pre></td></tr><tr><td data-num=\"13\"></td><td data-command=\"\"></td><td><pre>                GE0/0/9<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>      GE0/0/10<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/11<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/12<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"14\"></td><td data-command=\"\"></td><td><pre>                GE0/0/13<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/14<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/15<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/16<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"15\"></td><td data-command=\"\"></td><td><pre>                GE0/0/17<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/18<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/19<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/20<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"16\"></td><td data-command=\"\"></td><td><pre>                GE0/0/21<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/22<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/23<span class=\"token punctuation\">(</span>D<span class=\"token punctuation\">)</span>     GE0/0/24<span class=\"token punctuation\">(</span>U<span class=\"token punctuation\">)</span>     </pre></td></tr><tr><td data-num=\"17\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td data-command=\"\"></td><td><pre>VID  Status  Property      MAC-LRN Statistics Description      </pre></td></tr><tr><td data-num=\"20\"></td><td data-command=\"\"></td><td><pre>--------------------------------------------------------------------------------</pre></td></tr><tr><td data-num=\"21\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td data-command=\"\"></td><td><pre><span class=\"token number\">1</span>    <span class=\"token builtin class-name\">enable</span>  default       <span class=\"token builtin class-name\">enable</span>  disable    VLAN 0001</pre></td></tr></table></figure><h2 id=\"保存配置\"><a class=\"anchor\" href=\"#保存配置\">#</a> 保存配置</h2>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"><span>eNSP</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"[SW]\"></td><td><pre>quit</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"<SW>\"></td><td><pre>save</pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"\"></td><td><pre>The current configuration will be written to the device.</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"\"></td><td><pre>Are you sure to continue?<span class=\"token punctuation\">[</span>Y/N<span class=\"token punctuation\">]</span>y</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"\"></td><td><pre>Oct <span class=\"token number\">19</span> <span class=\"token number\">2022</span> <span class=\"token number\">23</span>:54:13-08:00 SW DS/4/DATASYNC_CFGCHANGE:OID <span class=\"token number\">1.3</span>.6.1.4.1.2011.5.25.191.3.1 configurations have been changed.</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"\"></td><td><pre>The current change number is <span class=\"token number\">4</span>, the change loop count is <span class=\"token number\">0</span>, and the maximum number of records is <span class=\"token number\">4095</span>.</pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"\"></td><td><pre>Info: Please input the <span class=\"token function\">file</span> name <span class=\"token punctuation\">(</span> *.cfg, *.zip <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span>vrpcfg.zip<span class=\"token punctuation\">]</span>:</pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre>Oct <span class=\"token number\">19</span> <span class=\"token number\">2022</span> <span class=\"token number\">23</span>:54:19-08:00 SW %%01CFM/4/SAVE<span class=\"token punctuation\">(</span>l<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">50</span><span class=\"token punctuation\">]</span>:The user chose Y when deciding whether to save the configuration to the device.</pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>Now saving the current configuration to the slot <span class=\"token number\">0</span>.</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre>Save the configuration successfully.</pre></td></tr></table></figure>",
            "tags": [
                "eNSP"
            ]
        }
    ]
}