{
    "version": "https://jsonfeed.org/version/1",
    "title": "Harold • All posts by \"git\" tag",
    "description": "我踏清风寻杨柳，谁有龙虾谁有酒。清风深知杨柳意，啤酒龙虾又相聚。",
    "home_page_url": "https://harold_popo.gitee.io",
    "items": [
        {
            "id": "https://harold_popo.gitee.io/Git/Configures-Github-and-Gitee/",
            "url": "https://harold_popo.gitee.io/Git/Configures-Github-and-Gitee/",
            "title": "Git同时配置Github和Gitee",
            "date_published": "2021-06-01T05:05:26.000Z",
            "content_html": "<h1 id=\"git同时配置github和gitee\"><a class=\"anchor\" href=\"#git同时配置github和gitee\">#</a> Git 同时配置 Github 和 Gitee</h1>\n<h2 id=\"配置\"><a class=\"anchor\" href=\"#配置\">#</a> 配置</h2>\n<h3 id=\"清除全局配置\"><a class=\"anchor\" href=\"#清除全局配置\">#</a> 清除全局配置</h3>\n<ul>\n<li>查看是否设置过全局配置</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">git</span> config --global --list</pre></td></tr></table></figure><ul>\n<li>清除全局配置（如果无可跳过）</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">git</span> config --global --unset user.name <span class=\"token string\">\"Your Name\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> config --global --unset user.email You@example.com</pre></td></tr></table></figure><h3 id=\"创建ssh公钥\"><a class=\"anchor\" href=\"#创建ssh公钥\">#</a> 创建 ssh 公钥</h3>\n<p><code>ssh-keygen</code>  说明</p>\n<ul>\n<li>参数 <code>-t</code> ：公钥类型，如<strong> rsa</strong>、<strong>dss</strong></li>\n<li>参数 <code>-C</code> ：注释，为了添加一个可辨认的标识，以便识别</li>\n<li>参数 <code>-f</code> ：公钥保存文件路径，及文件名可自行取名，如 <code>-t</code>  为<strong> rsa</strong> 则公钥保存文件默认为<strong> id_rsa</strong></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ ssh-keygen -t rsa -C <span class=\"token string\">\"xxx@qq.com\"</span> -f ~/.ssh/github_id_rsa</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 接下来提示设置密码，无需设置密码，直接回车</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>$ ssh-keygen -t rsa -C <span class=\"token string\">\"xxx@qq.com\"</span> -f ~/.ssh/gitee_id_rsa</pre></td></tr></table></figure><p><em><strong>如没有反应，可能没有添加环境变量</strong></em>，添加环境变量 <code>Git安装目录/usr/bin</code></p>\n<p>在 <code>~/.ssh/</code>  目录下生成以下文件</p>\n<ul>\n<li><code>github_id_rsa</code></li>\n<li><code>github_id_rsa.pub</code></li>\n<li><code>gitee_id_rsa</code></li>\n<li><code>gitee_id_rsa.pub</code></li>\n</ul>\n<h3 id=\"识别ssh-key新的密钥\"><a class=\"anchor\" href=\"#识别ssh-key新的密钥\">#</a> 识别 SSH key 新的密钥</h3>\n<p>默认只读取  <code>id_rsa</code> ，为了让 SSH 识别新的私钥，需要将新的私钥加入到  <code>SSH agent</code>  中</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ ssh-agent <span class=\"token function\">bash</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ ssh-add ~/.ssh/github_id_rsa</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>$ ssh-add ~/.ssh/gitee_id_rsa</pre></td></tr></table></figure><h3 id=\"多账号配置config文件\"><a class=\"anchor\" href=\"#多账号配置config文件\">#</a> 多账号配置 config 文件</h3>\n<p>1、创建 config 文件</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">touch</span> ~/.ssh/config</pre></td></tr></table></figure><p>2、config 中填写的内容，可用 vim 编辑器</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>Git</span></figcaption><table><tr><td data-num=\"1\"></td><td data-command=\"$\"></td><td><pre><span class=\"token function\">vim</span> ~/.ssh/config</pre></td></tr><tr><td data-num=\"2\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\"># Gitee</span></pre></td></tr><tr><td data-num=\"3\"></td><td data-command=\"\"></td><td><pre>Host gitee.com</pre></td></tr><tr><td data-num=\"4\"></td><td data-command=\"\"></td><td><pre>    HostName gitee.com</pre></td></tr><tr><td data-num=\"5\"></td><td data-command=\"\"></td><td><pre>    PreferredAuthentications publickey</pre></td></tr><tr><td data-num=\"6\"></td><td data-command=\"\"></td><td><pre>    IdentityFile ~/.ssh/gitee_id_rsa</pre></td></tr><tr><td data-num=\"7\"></td><td data-command=\"\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td data-command=\"\"></td><td><pre><span class=\"token comment\"># GitHub</span></pre></td></tr><tr><td data-num=\"9\"></td><td data-command=\"\"></td><td><pre>Host github.com</pre></td></tr><tr><td data-num=\"10\"></td><td data-command=\"\"></td><td><pre>    HostName github.com</pre></td></tr><tr><td data-num=\"11\"></td><td data-command=\"\"></td><td><pre>    PreferredAuthentications publickey</pre></td></tr><tr><td data-num=\"12\"></td><td data-command=\"\"></td><td><pre>    IdentityFile ~/.ssh/github_id_rsa</pre></td></tr></table></figure><h3 id=\"添加ssh\"><a class=\"anchor\" href=\"#添加ssh\">#</a> 添加 ssh</h3>\n<ul>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NldHRpbmdzL2tleXM=\">https://github.com/settings/keys</span>，将  <code>github_id_rsa.pub</code>  中的内容填进去，起名的话随意。</p>\n</li>\n<li>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRlZS5jb20vcHJvZmlsZS9zc2hrZXlz\">https://gitee.com/profile/sshkeys</span>，将  <code>gitee_id_rsa.pub</code>  中的内容填进去，起名的话随意。</p>\n</li>\n</ul>\n<h3 id=\"测试ssh连接\"><a class=\"anchor\" href=\"#测试ssh连接\">#</a> 测试 ssh 连接</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">ssh</span> -T git@github.com</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">ssh</span> -T git@gitee.com</pre></td></tr></table></figure><p>第一次连接会提示输入 <code>yes/no</code> ，输入 <code>yes</code>  即可</p>\n<h2 id=\"不同平台共用一个本地仓库\"><a class=\"anchor\" href=\"#不同平台共用一个本地仓库\">#</a> 不同平台共用一个本地仓库</h2>\n<h3 id=\"关联远程仓库\"><a class=\"anchor\" href=\"#关联远程仓库\">#</a> 关联远程仓库</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Gitee</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> gitee git@gitee.com:xxx/xxx.git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># Github</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> github git@github.com:xxx/xxx.git</pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># example</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> github git@github.com:Harold-666/Harold-Cnblogs-Theme-SimpleMemory.git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> gitee git@gitee.com:Harold_popo/Harold_popo.git</pre></td></tr></table></figure><h3 id=\"推送远程仓库\"><a class=\"anchor\" href=\"#推送远程仓库\">#</a> 推送远程仓库</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 先 pull 拉取远程仓库的文件更新到本地仓库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> pull gitee master</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 如果出现！[rejected] master -> master (non-fast-forward) error:failed to push some refs to XXX，则</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># git pull gitee master --allow-unrelated-histories</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># Gitee</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> push gitee master</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># Github</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> push github master</pre></td></tr></table></figure><h3 id=\"提交代码仍需用户名-邮箱\"><a class=\"anchor\" href=\"#提交代码仍需用户名-邮箱\">#</a> 提交代码仍需用户名、邮箱</h3>\n<p>多平台账号下全局配置已清除，提交代码如果还需要我们的用户名、邮箱</p>\n<p>在我们的工作目录（项目）里配置即可：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Github</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> config user.name <span class=\"token string\">'Harold-666'</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>$ <span class=\"token function\">git</span> config user.email <span class=\"token number\">2417525822</span>@qq.com</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># Gitee</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>$ <span class=\"token function\">git</span> config user.name <span class=\"token string\">'Harold'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>$ <span class=\"token function\">git</span> config user.email <span class=\"token number\">2417525822</span>@qq.com</pre></td></tr></table></figure><p><img data-src=\"https://i.vgy.me/WEgGEr.png\" alt=\"vgy.me\" /></p>\n<h3 id=\"使用流程\"><a class=\"anchor\" href=\"#使用流程\">#</a> 使用流程</h3>\n<p>以 Gitee 的 Harold_popo/Harold_popo.git 为例</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 初始化当前仓库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> init</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 当前工作目录（项目）创建用户名、邮箱</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> config user.name <span class=\"token string\">\"Harold\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>$ <span class=\"token function\">git</span> config user.email <span class=\"token number\">2417525822</span>@qq.com</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># 关联远程仓库</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> gitee git@gitee.com:Harold_popo/Harold_popo.git</pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># 同步远程仓库到本地仓库</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>$ <span class=\"token function\">git</span> pull gitee master</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># git pull gitee master --allow-unrelated-histories</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># 查看所有分支</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>$ <span class=\"token function\">git</span> branch -a</pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\"># 查看缓存区状态</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>$ <span class=\"token function\">git</span> status <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># 将所有已添加、已删除或已修改文件添加至缓存区</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token comment\"># 发送提交信息</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">\"commit test\"</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token comment\"># 推送到远程仓库</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>$ <span class=\"token function\">git</span> push gitee master</pre></td></tr></table></figure>",
            "tags": [
                "Git"
            ]
        },
        {
            "id": "https://harold_popo.gitee.io/Git/Common-Commands/",
            "url": "https://harold_popo.gitee.io/Git/Common-Commands/",
            "title": "Git常用命令",
            "date_published": "2021-05-11T09:05:26.000Z",
            "content_html": "<h1 id=\"git常用命令\"><a class=\"anchor\" href=\"#git常用命令\">#</a> Git 常用命令</h1>\n<ul>\n<li>master：默认开发分支</li>\n<li>origin：默认远程版本库</li>\n<li>barnch：开发分支</li>\n</ul>\n<h2 id=\"创建版本库\"><a class=\"anchor\" href=\"#创建版本库\">#</a> 创建版本库</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 克隆远程仓库到本地，默认下载项目的完整历史版本</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> clone <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 初始化仓库</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> init</pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 下载远程仓库项目最新的一次版本</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> clone --depth<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 下载远程仓库指定的分支</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> clone -b <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 下载最新一次版本后，可获取完整历史信息</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> fetch --unshallow</pre></td></tr></table></figure><h2 id=\"修改和提交\"><a class=\"anchor\" href=\"#修改和提交\">#</a> 修改和提交</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 查看状态</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> status</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 查看变更内容</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">diff</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 跟踪指定文件添加至缓存区</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 跟踪所有改动的文件添加至缓存区</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 修改文件名</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">mv</span> <span class=\"token operator\">&lt;</span>old<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>new<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 删除文件</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">rm</span> <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 停止跟踪指定文件，但不删除文件</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">rm</span> --cached <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 提交所有更新过的文件</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">\"commit message\"</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token comment\"># 修改最后一次提交</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>$ <span class=\"token function\">git</span> commit --amend</pre></td></tr></table></figure><h2 id=\"查看提交历史\"><a class=\"anchor\" href=\"#查看提交历史\">#</a> 查看提交历史</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 查看提交历史</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> log</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 查看指定文件的提交历史</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> log -p <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 以列表方式查看指定文件的提交历史</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> blame <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span></pre></td></tr></table></figure><h2 id=\"撤销\"><a class=\"anchor\" href=\"#撤销\">#</a> 撤销</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 撤销工作目录中所有未提交文件的修改内容</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> reset --hard HEAD</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 撤销指定的未提交文件的修改内容</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> checkout HEAD <span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 撤销指定的提交</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> revert <span class=\"token operator\">&lt;</span>commit<span class=\"token operator\">></span></pre></td></tr></table></figure><h2 id=\"分支与标签\"><a class=\"anchor\" href=\"#分支与标签\">#</a> 分支与标签</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 显示当前分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> branch</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 显示所有本地分支</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> branch -a</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 创建新分支</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> branch <span class=\"token operator\">&lt;</span>new-branch<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 切换指定的分支或标签</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> checkout <span class=\"token operator\">&lt;</span>branch/tag<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 删除本地分支</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> branch -d <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 列出所有本地分支</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> tag</pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 基于最新提交创建标签</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> tag <span class=\"token operator\">&lt;</span>tag<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 删除标签</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> tag -d <span class=\"token operator\">&lt;</span>tag<span class=\"token operator\">></span></pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 给指定的某个 commit 提交打标签，比如某次提交 id 为 039bf8</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> tag v1.0.0 039bf8</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># or 加注释</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> tag v1.0.0 039bf8 -m <span class=\"token string\">\"add tags info\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># or</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> tag v1.0.0 -m <span class=\"token string\">\"add tags info\"</span> 039bf8</pre></td></tr></table></figure><h2 id=\"合并与衍合\"><a class=\"anchor\" href=\"#合并与衍合\">#</a> 合并与衍合</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 合并指定分支到当前分支，合并分支到新的 branch commit 分支节点，保留历史分支记录</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> merge <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 衍合指定分支到当前分支，消除历史分支记录，直接合并分支，不建议用在主分支</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> rebase <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span></pre></td></tr></table></figure><h2 id=\"远程操作\"><a class=\"anchor\" href=\"#远程操作\">#</a> 远程操作</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 查看远程版本库信息</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> remote -v</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 查看指定远程版本库信息</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> remote show <span class=\"token operator\">&lt;</span>remote<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 添加远程版本库</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> <span class=\"token operator\">&lt;</span>remote<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 从远程库获取代码</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> fetch <span class=\"token operator\">&lt;</span>remote<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 下载远程库代码并快速合并</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> pull <span class=\"token operator\">&lt;</span>remote<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 上传代码至远程库并快速合并</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> push <span class=\"token operator\">&lt;</span>remote<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>branch<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 删除远程仓库分支或标签</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> push <span class=\"token operator\">&lt;</span>remote<span class=\"token operator\">></span> :<span class=\"token operator\">&lt;</span>branch/tag<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 上传所有标签</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> push --tags</pre></td></tr></table></figure>",
            "tags": [
                "Git"
            ]
        },
        {
            "id": "https://harold_popo.gitee.io/Git/Commit-Flow/",
            "url": "https://harold_popo.gitee.io/Git/Commit-Flow/",
            "title": "Git提交流程",
            "date_published": "2021-05-10T05:00:00.000Z",
            "content_html": "<h1 id=\"git-提交流程\"><a class=\"anchor\" href=\"#git-提交流程\">#</a> Git 提交流程</h1>\n<h2 id=\"创建全局用户名-邮箱\"><a class=\"anchor\" href=\"#创建全局用户名-邮箱\">#</a> 创建全局用户名、邮箱</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 只用一个账号配置全局用户较好</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> config --global user.name <span class=\"token string\">\"Your name\"</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>$ <span class=\"token function\">git</span> config --global user.email email@xx.com</pre></td></tr></table></figure><h2 id=\"初次创建仓库\"><a class=\"anchor\" href=\"#初次创建仓库\">#</a> 初次创建仓库</h2>\n<h3 id=\"克隆远程仓库到本地\"><a class=\"anchor\" href=\"#克隆远程仓库到本地\">#</a> 克隆远程仓库到本地</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Gitee</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> clone https://gitee.com/Harold_popo/Harold_popo.git</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># Github</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> clone https://github.com/Harold-666/Harold-Cnblogs-Theme-SimpleMemory.git</pre></td></tr></table></figure><p><em>github 网站为国外网站，clone 很慢，速度几 kb/s 不等，使用 GitHub 国内镜像网站 clone 速度更快</em></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># Github 镜像网站 github.com.cnpmjs.org</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># 好像失效了</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>$ <span class=\"token function\">git</span> clone https://github.com.cnpmjs.org/Harold-666/Harold-Cnblogs-SimpleMemory.git</pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 镜像网站最新可用 gitcode.net/mirrors</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> clone https://gitcode.net/mirrors/Harold-666/Harold-Cnblogs-SimpleMemory.git</pre></td></tr></table></figure><p><em>注意：使用了镜像网站，如要推送到仓库则需更改关联库，否则会 push 失败</em></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">git</span> remote set-url --push origin  https://github.com/Harold-666/Harold-Cnblogs-SimpleMemory</pre></td></tr></table></figure><h3 id=\"直接建立本地仓库\"><a class=\"anchor\" href=\"#直接建立本地仓库\">#</a> 直接建立本地仓库</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 输入内容并新建到 README.md 文件</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"# Harold-Cnblogs-Theme-SimpleMemory\"</span> <span class=\"token operator\">>></span> README.md</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 初始化仓库</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> init</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 查看本地库的代码状态</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> status <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># 添加 README.md 文件到缓存区</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> README.md</pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># 提交文件到缓存区</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">\"first commit\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\"># 创建分支 master</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>$ <span class=\"token function\">git</span> branch -M master</pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># 关联远程仓库</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin https://github.com/Harold-666/Harold-Cnblogs-Theme-SimpleMemory.git</pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token comment\"># 推送到远程仓库的 master 分支</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>$ <span class=\"token function\">git</span> push -u origin master</pre></td></tr></table></figure><h2 id=\"查看分支\"><a class=\"anchor\" href=\"#查看分支\">#</a> 查看分支</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 1、查看所有分支</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> branch -a</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 2、- 查看当前使用分支 (结果列表中前面标 * 号的表示当前使用分支)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> branch</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># 3、切换分支</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>$ <span class=\"token function\">git</span> checkout 分支名</pre></td></tr></table></figure><h2 id=\"推送到远程仓库\"><a class=\"anchor\" href=\"#推送到远程仓库\">#</a> 推送到远程仓库</h2>\n<p>参数 <code>-u</code>  说明：指定将本地分支推送到 origin 主机，同时指定 origin 为默认主机，后面可不加此参数，直接 <code>git push</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 第一次将本地仓库推送到远程仓库</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> push -u origin master</pre></td></tr></table></figure><ul>\n<li>可能会推送失败，出现红色提示 error 报错，远程不为空存在 README.md 文件，所以需要先 pull</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">git</span> pull origin master</pre></td></tr></table></figure><ul>\n<li>如果显示警告，可能是本地库与远程库有不相干的历史记录而无法合并，需加参数</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 同步远程仓库与本地仓库，消除文档间的差异，可能会修改合并文件，下载远程仓库的文件更新到本地</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> pull origin master --allow-unrelated-histories</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># 再次 push 提交</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> push -u origin master</pre></td></tr></table></figure><ul>\n<li>强制推送覆盖远程仓库</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># 注：最好不要使用，团队项目的话可能会有生命危险</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> push -f origin master</pre></td></tr></table></figure>",
            "tags": [
                "Git"
            ]
        }
    ]
}